<!DOCTYPE html>
<html lang="en">

<!-- Metadata -->

<head>
  <meta charset="utf-8">

  <!-- Title -->
  <title>Project Team 7: Heart Disease, COSI 116A F23</title>

  <!-- CSS Styling -->
  <link rel="stylesheet" href="style.css">

  <!-- Favicons -->
  <link rel="apple-touch-icon" sizes="180x180" href="favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="favicons/favicon-16x16.png">
  <link rel="manifest" href="favicons/site.webmanifest">
  <link rel="shortcut icon" href="favicons/favicon.ico">
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-config" content="favicons/browserconfig.xml">
  <meta name="theme-color" content="#ffffff">

  <script src="https://d3js.org/d3.v4.min.js" charset="utf-8"></script>
  <script src="https://d3js.org/topojson.v1.min.js"></script>
  <script src="static/colors.js"></script>
  <script src="static/statenames.js"></script>
  <script src="data/heartratesALL.js"></script>

  <script src="js/renderMap.js"></script>
  <script src="js/linechart.js"></script>
  <script src="js/scatterplot.js"></script>
</head>

<!-- Main page content -->

<body>

  <!-- Update this with your GitHub repo URL -->
  <span id="forkongithub"><a
      href="https://github.com/COSI116A-Brandeis-InfoVis-Fall23/cosi-116a-f24-final-project-7.github.io">Fork me on
      GitHub</a></span>

  <!-- Your writeup goes here -->
  <div class="content-column">

    <h1>Project Team 7: Heart Disease, COSI 116A F23</h1>

    <p><strong>Michael Sun</strong>, <strong>Noah Bunis</strong>, <strong>Margaret Potagal</strong>, <strong>Madison
        Sansone</strong></p>

    <p>Project-long Course Project as part of COSI 116A: Information Visualization</a>, taught by <a
        href="https://cs.brandeis.edu/~dylan/">Prof. Dylan Cashman</a>, <a href="https://cs.brandeis.edu/">Brandeis
        University</a>.</p>

    <h1>Motivation</h1>

    <p><em>Summary of user needs and motivating questions.</em></p>
    <!-- <p><em>Expectation: There is a clear focus, and a developed explanation of the problem, and a reasonable response is proposed.</em></p> -->

    <p> The United States is currently facing a health crisis, marked by alarmingly high rates of cardiovascular
      disease, limited access to mental health resources, and a healthcare system that ranks poorly compared to other
      wealthy nations. The purpose of our project is to analyze health data in the United States across time and states,
      aiming to uncover patterns and trends that may enhance our understanding of this issue. We intend to do this by
      narrowing our scope to exploring heart disease, the leading cause of death in the United States. To do so, we will
      analyze the age adjusted heart disease death rate per state from 1999-2021. We will also be plotting our heart
      disease data against life expectancy and COVID-19 death rates per state to see if there are any interesting
      patterns or trends across data sets. Our visualization will provide insight on how location and time period have
      impacted the livelihood of Americans.
      Originally, our target audience was health professionals, but through our research process we came to the
      conclusion that our visualization can lend itself to both the general public and health experts. To accomplish
      this, we strive to make an easily understandable, yet detailed and informative visualization. Our visualization
      aims to help Americans reflect on their own health as well as provide insight on the evolving landscape of heart
      disease in the United States to health professionals. Experts in the field may be able to better understand who is
      most at risk as well as use their knowledge to connect the dots on the causes of the changes seen overtime.</p>

    <h1>Visualization</h1>

    <!-- <p><em>Include the interactive visualization as part of this page. Static example follows.</em></p> -->

  </div>

  <!-- Slider section -->
  <div class="slider-container" style="text-align: center; margin-bottom: 20px;">
    <h1>United States Age Adjusted Heart Disease Death Rate in <span id="titleYear">1999</span></h1>
    <label for="cars">Choose a year:</label>
    <div class="slidecontainer">
      <label for="slider" style="display: inline-block; width: 50px;">1999</label>
      <input type="range" min="1999" max="2021" value="1999" class="slider" id="slider"
        style="width: 500px; display: inline-block;">
      <label for="slider" style="display: inline-block; width: 50px; text-align: right;">2021</label>
      <h3><span id="state">America (Total)</span></h3>
    </div>
  </div>
  <!-- Wrap the map and legend in a flex container -->
  <div class="flex-container" style="display: flex; justify-content: space-between; gap: 20px;">
    <!-- Map section -->
    <div class="vis-container" style="overflow:visible">
      <svg class="vis-svg" xmlns="http://www.w3.org/2000/svg" style="object-fit: contain; width:1400px; height:700px"
        viewBox="0 0 1400 800">
        <g id="boundary"></g>
        <g id="states"></g>
      </svg>
    </div>

    <!-- Legend section -->
    <div class="legend-holder" style="border: 1px solid #000; padding: 1px; border-radius: 1px; text-align:center;">
      <h3>Age Adjusted Heart Disease Death Rate</span></h3>
      <h4>(Deaths per 100,000)</h4>
      <div style="display: flex; flex-direction: column; align-items: center;">
        <span style="margin-bottom: 2px;" id="max">High</span>
        <div
          style="width: 30%; height: 300px; background: linear-gradient(to bottom, rgb(128, 0, 128), rgb(255, 255, 255));">
        </div>
        <span style="margin-top: 2px;" id="min">Low</span>
      </div>
    </div>
  </div>

  <!-- Parent container for line chart and scatter plot -->
  <div class="chart-container" style="display: flex; justify-content: space-between; gap: 20px;">

    <!-- Line chart holder -->
    <div class="linechart-holder" id="linechart">

    </div>

    <!-- Scatter plot holder -->
    <div class="scatterplot-holder" id="scatterplot"></div>

  </div>

  <!-- Your writeup goes here -->
  <div class="content-column">

    <h1>Demo Video</h1>

    <!-- <p><em>Embedded MP4 demo video using the HTML5 &lt;video&gt; tag. For example, this screen recording Prof. Cody
        Dunne made of Mike Bostock's flexible transitions in D3 slide:</em></p>

    <video controls width="100%">
      <source src="https://www.ccs.neu.edu/home/cody/courses/shared/d3-flexible-transitions.mp4" type="video/mp4">
      <p>Your browser doesn't support HTML5 video. Here is
        a <a href="https://www.ccs.neu.edu/home/cody/courses/shared/d3-flexible-transitions.mp4">link to the video</a>
        instead.</p>
    </video> -->

    <iframe width="560" height="315" src="https://www.youtube.com/embed/YtbS33whJlQ?si=Dhp1LaB14Q8O2BXQ"
      title="YouTube video player" frameborder="0"
      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
      referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>

    <p>Here is a <a
        href="https://docs.google.com/presentation/d/1zSYD9_N5L8Hhi6NlbtmPBOs7nItY2M4qK2l6Lv3_bMs/edit?usp=sharing">link
        to the slides.</a></p>

    <h1>Visualization explanation</h1>

    <!-- <p><em>Final visualization screenshots (PNG images), design justifications, UI walk-through, and linked presentation slides.</em></p> -->
    <img id="finalVisMap" src="images/finalVisMap.png" alt="Final Screenshot of our Map Visualization">
    <img id="finalVisLineChart" src="images/finalVisLineChart.png"
      alt="Final Screenshot of our LineChart Visualization">
    <img id="finalVisScatterPlot" src="images/finalVisScatterPlot.png"
      alt="Final Screenshot of our ScatterPlot Visualization">

    <p>In the view, the user sees three visualizations at once: a map of the United States, a line chart, and a
      scatterplot. The map is our primary visualization and is the first that the user should interact with. It encodes
      the age adjusted heart disease death rate per state from 1999-2021, and the user can dynamically update which year
      is shown using the slider bar above. The user can also interact with the visualization by hovering over and
      clicking on a specific state.</p>
    <p> The linechart encodes one state’s heart disease death rate overtime from 1999-2021. When the user clicks on a
      state, the line chart will update to display its data as a line chart. Each year is marked with a point, and the
      color red encodes the one datapoint that is currently displayed on the map.</p>
    <p>The scatterplot encodes each state’s heart disease death rate to their life expectancy for a given year. The year
      updates as the user drags the scrollbar above the map. The marks are points, and each point represents one state.
      The user can hover over each point for details on demand as well as brush over multiple points to highlight those
      states on the map. The scatterplot aims to derive new data by examining the relationship between life expectancy
      and heart disease death rate. </p>

    <h1>Data Analysis</h1>

    <!-- <p><em>Summary of data, data types, and data preprocessing.</em></p>
    <p><em>Expectation: Data sources match the problem statement and are appropriate. These descriptions should be very explicit so someone could read your page and properly reproduce your results.</em></p> -->

    <p>Originally, our group was planning to explore a dataset on the ten leading causes of death by state, from
      1999-2017. Our intention was to examine trends both overtime and geographically until 2021 to gain insights on the
      impact of COVID-19. We also wanted to relate this to the percentage of state residents with access to affordable
      healthcare through interaction with an additional visualization. Ultimately we were unable to find state data for
      ten leading causes of death from 2018 onwards. </p>
    <p>During peer review, we were also given consistent feedback that narrowing our focus would make our visualization
      more effective. In order to accommodate missing data and our feedback, we pivoted to focus on only heart disease,
      the leading cause of death across the United States. This helps us ensure that our visualizations all compliment
      one another and still fulfills our primary domain task, “What do you consider the most prominent healthcare issues
      in the United States? Is that different now versus 50 years ago?”</p>
    <p>We are using three datasets for our final visualization. Our primary data set contains the Age Adjusted Heart
      Disease Death Rate per state from 1999-2021 in JSON format, obtained by the CDC. This is measured by the number of
      deaths per 100,000 total population, and it is adjusted for differences in age-distribution and population size.
      Our second data set contains the life expectancy per state in 1999-2021 except for 2017. We were unable to find
      the data per state for 2017. To resolve this problem as best as we could, we found the national average life
      expectancy for all of the United States and used that for each state.
      We had also planned to use one last dataset containing the COVID-19 Age Adjusted Death Rate per state from
      2020-2022, also obtained from the CDC. We did not have enough time to integrate this dataset into our final
      visualization. For each data set, we manipulated the data so that each year is an object that has key-value pairs
      connecting each state to its respective datapoint.</p>
    <h1>Task Analysis</h1>
    <!-- 
    <p><em>Summary of task table.</em></p>
    <p><em>Expectation: Clearly describes domain tasks, processes, goals and abstract tasks for domain problems.</em></p> -->

    <p>Based on our interview responses, we identified six potential domain tasks. Our final visualization successfully
      answers our #1 ranked domain task, “What do you consider the most prominent healthcare issues in the United
      States? Is that different now versus 50 years ago?” As a group, we decided that heart disease should be considered
      one of the most prominent healthcare issues in the United States as it has been the leading cause of death for
      decades. The low-level tasks associated with this domain task are Identify and Compare, which we fulfill through
      user interactivity. The user can easily compare states across time as well as different regions of the United
      States to one another. At the middle level, our visualization satisfies the Lookup task where users already know
      both what they’re looking for and where it is- in other words, both the target and location are known. Users can
      look up the data for a specific state at a specific year through the drop down menu and details on demand in our
      map. On a high-level, the purpose of this domain task is to Derive and Discover. New data is derived through our
      scatter plot which plots the relationship between life expectancy and Heart Disease Adjusted Death Rate.
      Additionally, the user can discover insight about the data by hovering over marks and using interaction to view
      the data through different visual encodings. In this way, users can use our visualization to find new knowledge
      that was not previously known to them. Our visualization is meant to be easily digestible to a wide range of users
      with a variety of medical experience.</p>
    <p>If given more time, we would have liked to further explore COVID-19 and its effect on public health with more
      depth. This would have helped us begin to answer our 5th ranked domain task, “Has COVID-19 generated outliers in
      public health?” in specific relation to heart disease. </p>

    <h1>Design Process</h1>
    <!-- <p><em>Sketches and design choices to justify final visualization.</em></p>

    <p><em>Expectation: Evidence of iterative improvement.
    Logical discussion of design choices grounded in theory from course.
    Discusses feedback from usability testing.</em></p> -->

    <img id="handSketches" src="images/handSketches.png" alt="Hand Drawn Sketches">
    <img id="figmaVisSketch" src="images/FigmaVisSketch.png" alt="Figma Vis Sketch">

    <p>Since our data involves both time and geographic location, we decided to use a map as our primary visual
      encoding. Maps are particularly engaging to users and the most effective way to communicate data that is
      categorized by state. Since we are encoding age adjusted heart disease death rate, a quantitative variable over
      the map, we chose to use a lightness map. We chose to use this because lightness is an effective way to encode
      quantitative variables, whereas rainbow color maps are not. Originally our color map was red, but we changed it to
      purple because differences in purple are easier to perceive to the human eye, and it is more friendly to all forms
      of colorblindness. We included a legend that shows the minimum and maximum heart disease death rate value next to
      the relevant color value, which we found necessary after usability testing. We also added a scrolling bar at the
      top of our map to simply and effectively navigate from year to year. Though this was not intended, an added bonus
      of the scroll bar is when dragged from beginning to end the user can see the color saturation changes on the map
      which provides a comprehensive overview of how the number of heart disease related deaths changed overtime, almost
      as an animation. Beneath our map, we created a line chart and a scatter plot to gather new insight on our data in
      a different perspective. All three of our visualizations are linked to one another. </p>
    <p>Our line chart plots a given state’s age adjusted-heart disease death rate over the entire recorded time period
      (1999-2021). When the user clicks on a state, the line chart updates to display that state’s relevant data. Line
      charts are particularly useful when encoding when working with temporal data, and the position attribute is ranked
      most effective.
      Our scatter plot shows the relationship between heart disease death rate and life expectancy per state for each
      year recorded. Our marks are points, and each point represents one of the 50 states. The points are
      semi-transparent to prevent occlusion. We include details on demand so that the user can highlight a point to see
      which state it is, and its respective values. The scatter plot satisfies our desire to derive new data, a goal of
      ours in our task analysis. It also allows the user to browse and explore the data as there is no location or
      target known. We use red, the most effective popout color, to link hovering and clicking on a specific state to
      its respective point on the plot.</p>
    <p>Our intention is for the user to first explore our data visualization using the map, and then dive deeper into
      their particular areas of interest through exploring different line charts and scatter plot encodings. By hovering
      over the marks of each visualization, clicking on the map, and dragging the scroll bar, the user has control over
      what year and what state is focused on in the current visualization. </p>

    <h1>Conclusion</h1>
    <!-- <p><em>Short summary of work completed and areas for improvement/future-work.</em></p>
    <p><em>Expectation: Meaningfully wraps up project and has good future directions.</em></p> -->

    <p> Our group was able to successfully create three different visualizations that use both geographic and temporal
      data, all linked to one another. We synthesized our own JSON data sets by manipulating multiple data sets from
      reliable sources such as the CDC. We implemented details on demand for the marks of all three visualizations,
      giving the user the necessary contextual information to understand our data in full.
      If given the opportunity in the future, our group intends to look further into COVID-19 data and find a way to
      integrate it into our current visualization. A potential way to measure the effectiveness of our visualization in
      the future is to observe our target users after deployment in a field study. An area that we could have improved
      upon was ensuring that we were not missing any data before finalizing our design idea. We had to heavily revise
      our final visualization in comparison to our formal sketch on Figma. Also, our code could have been more organized
      and clear with the addition of comments. </p>


    <h1>Acknowledgments</h1>

    <p><em>List here where any code, packages/libraries, text, images, designs, etc. that you leverage come from.</em>
    </p>

    <ul>
      <li><a href="https://d3js.org/">D3: Data-Driven Documents</a> by Mike Bostock.</li>
      <li><a href="https://codepo8.github.io/css-fork-on-github-ribbon/#">Pure CSS responsive "Fork me on GitHub"
          ribbon</a> by Chris Heilmann.</li>
      <li> COSI 116A F24 Assignment 4—Brushing and Linking in D3</li>
      <li> ChatGPT as coding resource</li>
    </ul>

  </div>

  <!-- Scripts at the end avoid need for dealing with async, defer, or onload event handlers -->
  <script src="js/renderMap.js"></script>
  <script src="js/linechart.js"></script>
  <script src="js/scatterplot.js"></script>
  <script src="lib/d3.v4/d3.v4.js"></script>
  <script src="js/visualization.js"></script>

</body>

</html>